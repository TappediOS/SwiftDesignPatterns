#  Factory Method

### どんなパターンか

呼び出し元からのリクエストを満たすための実装クラスを選択するパターン。
実装クラスの詳細や実装クラス同士の関係を呼び出し元が知る四つようがない。
`Singleton Pattern`や`Object Pool Pattern`と組み合わせてよく使われる。

`Factory Method Pattern`は`Abstract Factory Pattern`の友達

### メリット

実装クラスを選択するロジックを1つにすることで，アプリ全体にそれが散らばることを防ぐことができる。

##### 解決される問題は？
このパターンは，あるプロトコルに準拠するクラスが**複数**存在し，かつ，その複数のクラスから**インスタンス化するクラスを1つ選択**しないといけない問題を解決する

### 注意点

共通プロトコルまたはベースクラスが存在しない場合は使用してはいけない。
今回の場合であれば，ベースクラスとして`class RentalCar`が存在し，他のクラスに，`class Compact: RentalCar`等が存在している。


### 実装方法

#### その1

1つ目はグローバル関数を作成すること。
それを各が呼び出すことで実装クラスを選択するロジック（コンパクトですか？，subですか？を）が1つのみになる。
変更もしやすい。


#### その2

プロトコルをやめてベースクラスを使用してしまうこと。
ベースクラスのなかでどの実装を返すかを選択する関数を`static func hoge()`もしくは`class func hoge()`として実装する。
ちなみに，`class func hoge()`とすることで実装クラス中で`override`することができる

